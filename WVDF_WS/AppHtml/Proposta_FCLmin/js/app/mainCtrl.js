"use strict";app.controller("MainCtrl",["$scope","$controller","WVDF",function(n,t,i){console.log("controller on");var r={};({parent:{}}).parent.alertify={success:()=>null,error:()=>null};n.tabs=[{title:"Info. Geral",icon:"",include:"views/infoGeral.html",controller:"",disabled:!1,hidden:!1},{title:"Taxas",icon:"",include:"views/taxas.html",controller:"",disabled:!1,hidden:!1}];n.combo={};n.form={info:{}};r.init=function(){n.Url=Url;n.WVDF=i;i.ws_csag308.f_fup_csag308_combo(Url.aUsuarioSessao,"",Url.idCliente).then(t=>n.combo.marcas=t);i.ws_CCGS200.f_CCGS200_combo(Url.aUsuarioSessao).then(t=>n.combo.tpOperacao=t);i.ws_CCGS202.f_CCGS202_lista(Url.aUsuarioSessao,"").then(t=>n.combo.modFrete=t);i.ws_HCGS3000.f_combo_incorterm(Url.aUsuarioSessao).then(t=>n.combo.incoterm=t);i.ws_CCGS204.f_CCGS204_lista(Url.aUsuarioSessao).then(t=>n.combo.embarque=t);i.ws_hcgs3029.f_combo_pais(Url.aUsuarioSessao).then(t=>n.combo.pais=t);t("infoGeralCtrl",{$scope:n});t("chatCtrl",{$scope:n})};n.call=function(n){return n.then(function(n){return n})};r.init()}]);app.controller("infoGeralCtrl",["$scope","WVDF",function(n,t){var i={};n.info={};n.taxa={};n.common={};i.init=function(){};n.common.btnVisualizar=function(){t.ws_hcgs3004.f_HCGS3004_Status(Url.idProposta,Url.aUsuarioSessao).then(function(n){switch(n){case 3:parent.parent.alertify.error("Proposta em Aguardo!");break;case 4:parent.parent.alertify.error("Proposta em Analise!");break;case 10:parent.parent.alertify.error("Proposta com Falta de Informacoes!");break;case 11:case 12:parent.parent.alertify.error("Proposta em Verificacao!");break;case 5:parent.parent.alertify.error("Proposta Expirada!");break;default:window.open("../PCGS3004_04.asp?aUsuarioSessao="+Url.aUsuarioSessao+"&idProposta="+Url.idProposta,"propostadefrete","width=250px")}})};n.modal={status:{open:()=>$("#status").modal("show"),close:()=>null,save:function(n){t.ws_hcgs3004.p_att_status(Url.idProposta,n,"Usuario",Url.aUsuarioSessao).then(function(){parent.parent.alertify.success("Status Alterado!")})},verify:function(){t.ws_hcgs3004.fStatusVerify(Url.idProposta,Url.aUsuarioSessao).then(function(t){n.form.info.status=t})}},arquivos:{open:()=>{$("#arquivos iframe").attr("src","../PCGS3040_10.asp?aUsuarioSessao="+Url.aUsuarioSessao+"&Nm_Tabela=HCGS3004&idProposta="+Url.idProposta),$("#arquivos").modal("show")},close:()=>null},mensagens:{open:()=>$("#mensagens").modal("show"),close:()=>null},historico:{open:()=>$("#historico").modal("show"),close:()=>null},negociacao:{open:()=>$("#negociacao").modal("show"),close:()=>null},editarTaxa:{open:()=>$("#editarTaxa").modal("show"),close:()=>null},gerarAcordo:{open:()=>$("#gerarAcordo").modal("show"),close:()=>null}};i.init()}])